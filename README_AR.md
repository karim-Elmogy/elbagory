# نظام التجارة الإلكترونية - B2C & B2B

نظام تجارة إلكترونية متكامل يشمل:
- بيع قطاعي (B2C)
- بيع جملة (B2B)
- إدارة فواتير الجملة
- لوحة تحكم شاملة

## المميزات

### الواجهة الأمامية
- ✅ صفحة رئيسية مع عرض المنتجات المميزة
- ✅ تصفح المنتجات مع البحث والفلترة
- ✅ سلة شراء ذكية (تحدد السعر حسب نوع العميل)
- ✅ حساب عميل مع إدارة الطلبات
- ✅ تسجيل دخول وتسجيل حساب

### لوحة التحكم
- ✅ Dashboard مع إحصائيات المبيعات
- ✅ إدارة المنتجات (إضافة، تعديل، حذف)
- ✅ إدارة العملاء (قطاعي وجملة)
- ✅ إدارة الطلبات
- ✅ نظام فواتير الجملة الكامل
- ✅ إدارة المخزون

## التثبيت

1. استنساخ المشروع:
```bash
git clone [repository-url]
cd elbagory
```

2. تثبيت المتطلبات:
```bash
composer install
npm install
```

3. إعداد قاعدة البيانات:
```bash
cp .env.example .env
php artisan key:generate
```

4. تعديل ملف `.env` وإضافة بيانات قاعدة البيانات:
```env
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=elbagory
DB_USERNAME=root
DB_PASSWORD=
```

5. تشغيل Migrations و Seeders:
```bash
php artisan migrate
php artisan db:seed
```

6. ربط التخزين:
```bash
php artisan storage:link
```

7. تشغيل المشروع:
```bash
php artisan serve
```

## بيانات الدخول الافتراضية

### لوحة التحكم (Admin Panel):
- **البريد الإلكتروني:** `admin@example.com`
- **كلمة المرور:** `password`
- **رابط لوحة التحكم:** `/admin/dashboard`

> **ملاحظة:** تأكد من تشغيل `php artisan db:seed` لإنشاء المستخدم الافتراضي

## البنية

### Models
- `User` - المستخدمون
- `Role` - الأدوار
- `Customer` - العملاء
- `Product` - المنتجات
- `Category` - الفئات
- `Order` - الطلبات
- `Invoice` - الفواتير
- `Payment` - المدفوعات
- `StockMovement` - حركات المخزون

### Controllers
- `HomeController` - الصفحة الرئيسية
- `ProductController` - المنتجات
- `CartController` - السلة
- `OrderController` - الطلبات
- `CustomerController` - حساب العميل
- `AuthController` - المصادقة
- `Admin\*` - لوحة التحكم

## نظام فواتير الجملة

### المميزات:
- ✅ إنشاء فاتورة جملة جديدة
- ✅ ترقيم تلقائي (WH-2025-000001)
- ✅ تعديل الفواتير (مسودات فقط)
- ✅ إلغاء الفواتير مع تسجيل السبب
- ✅ تحديث المخزون تلقائياً
- ✅ حساب الإجماليات والخصومات والضرائب
- ✅ طباعة الفواتير

### إنشاء فاتورة:
1. اذهب إلى لوحة التحكم > فواتير الجملة
2. اضغط على "فاتورة جديدة"
3. اختر العميل (جملة فقط)
4. أضف المنتجات والكميات
5. حدد الأسعار والخصومات
6. احفظ الفاتورة

## المهام المكتملة

- [x] قاعدة البيانات والـ Migrations
- [x] Models مع العلاقات
- [x] نظام المصادقة والصلاحيات
- [x] Views للواجهة الأمامية
- [x] Controllers للواجهة الأمامية
- [x] لوحة التحكم Dashboard
- [x] Admin Controllers
- [x] نظام فواتير الجملة

## المهام المتبقية (اختيارية)

- [ ] إضافة Views كاملة للوحة التحكم
- [ ] إضافة مكتبة PDF للفواتير
- [ ] إضافة تقارير متقدمة
- [ ] إضافة إشعارات
- [ ] إضافة نظام الإشعارات البريدية
- [ ] إضافة تكامل مع واتساب

## الرخصة

MIT License
